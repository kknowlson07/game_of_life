

to compile a mpi c file
module load openmpi
mpicc file.c -o compiledfilename

to run a slurm script, file.sh -> sbatch file.sh

squeue --me

the following is an example script that compiles an mpi c file in another directory
it outputs the compiled file in same destination

then runs the file, and outputs the programs output in the slurm folder

==================
#!/bin/bash

#SBATCH --partition debug
#SBATCH --ntasks=2
#SBATCH --ntasks-per-node=1
#SBATCH --nodes=2
#SBATCH --time 00:05:00
#SBATCH --job-name pingpong
#SBATCH --output pingpong.out
#SBATCH --mail-user dunharrow@unm.edu

module load openmpi

cd $SLURM_SUBMIT_DIR
mpicc ../pingpong/pingpong.c -o ../pingpong/pingpong
srun  -n 2  ../pingpong/./pingpong
cat pingpong.out
===================
